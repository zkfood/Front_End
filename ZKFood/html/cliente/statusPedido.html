<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus Pedidos</title>

    <!-- Links CSS -->
    <link rel="stylesheet" href="../../css/statusPedido.css">
    <link rel="stylesheet" href="../../css/homePosLogin.css">
    <link rel="stylesheet" href="../../css/responsividade/homePosLogin-responsivo.css">
    <link rel="stylesheet" href="../../css/responsividade/statusPedido-responsivo.css">

    <!-- Icon -->
    <link rel="icon" href="../../assets/logo-icon.png" type="image/png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@100..900&display=swap"
        rel="stylesheet">

    <!-- JavaScript -->
    <script src="../../js/fetch.js"></script>
    <script src="../../js/status-pedido.js"></script>
    <script src="../../js/carrossel-statusPedido.js"></script>
    <script src="../../js/avaliacao-pedido.js"></script>

</head>

<body>
    <!-- API de acessibilidade VLIBRAS -->
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app');
    </script>

    <!-- Navbar Superior -->
    <div class="container_navbar">
        <div class="parte_superior_navbar">
            <div class="img_voltar"> <a href="javascript:history.back()"><img src="../../assets/de-volta.png"
                        alt="Seta para voltar a página"></a></div>
            <div class="img_logo"><a href="./home_pos_login.html"><img src="../../assets/logo.png"
                        alt="Logo do ZKfood"></a></div>
            <div class="container_pesquisa">
                <div class="search-container">
                    <img src="../../assets/lupa.png" alt="Ícone de Busca" class="search-icon">
                    <input type="text" placeholder="Pesquise o que seu apetite deseja...">
                    <button type="submit">Buscar</button>
                </div>
            </div>
            <div class="container_favoritos_carrinho">
                <div class="container_favoritos">
                    <a href="favoritos.html"> <img src="../../assets/coracao.png"
                            alt="Icone de coração para sinalizar favoritos"></a>
                </div>
                <div class="container_carrinho">
                    <a href="carrinho.html"> <img src="../../assets/carrinho-carrinho.png"
                            alt="Icone de carrinho de mercado para sinalizar itens na lista de compras"> </a>
                </div>
            </div>

            <div class="profile_home">
                <a class="perfil" href="perfil.html"></a>
                <a class="logoff" href="#"></a>
            </div>
        </div>
        <div class="parte_inferior_navbar">
            <ul class="menu">
                <li><a href="home_pos_login.html">Página Inicial</a></li>
                <li><a href="cardapio.html">Cardápio</a></li>
                <li><a href="historico-pedidos.html" class="tela_atual">
                        <p>Meus Pedidos</p>
                    </a></li>
                <li><a href="cadastro_endereco.html">Cadastrar Endereço</a></li>
            </ul>
        </div>
    </div>

    <!-- Navbar Inferior na RESPONSIVIDADE -->
    <div class="bottom-nav">
        <a href="./home_pos_login.html">
            <img src="../../assets/icons-responsivo/icon-casa.png" alt="Icone de casa retratando tela inicial no menu">
            <span>Inicio</span>
        </a>
        <a href="./cardapio.html">
            <img src="../../assets/icons-responsivo/icon-garfo.png"
                alt="Icone de garfo retratando tela de cardápio no menu">
            <span>Cardápio</span>
        </a>
        <a href="./carrinho.html">
            <img src="../../assets/icons-responsivo/icon-carrinho.png"
                alt="Icone de carrinho retratando tela de carrinho no menu">
            <span>Carrinho</span>
        </a>
        <a href="./historico-pedidos.html" class="active">
            <img src="../../assets/icons-responsivo/icon-documento-active.png"
                alt="Icone de documento retratando tela de status do pedido no menu">
            <span>Pedidos</span>
        </a>
        <a href="./cadastro_endereco.html">
            <img src="../../assets/icons-responsivo/icon-endereco.png"
                alt="Icone de endereço retratando tela de cadastro de endereço no menu">
            <span>Endereço</span>
        </a>

    </div>

    <!-- Status do Pedido -->

    <div class="banner-status" id="bannerStatus">

        <div class="caminho">
            <p> Cardapio >
                Carrinho >
                Endereço >
                <b>Status do Pedido</b>
            </p>
        </div>
        <span class="titulo-status">STATUS DO <span>MEU PEDIDO</span></span>
        <div class="container-status">
            <div class="status-overview" id="">
                <div class="status-card">
                    <img src="/ZKFood/assets/numero-1.png" alt="Pedidos Aceito" id="icon1">
                    <img src="/ZKFood/assets/pedido-confirmado 1.png"
                        alt="Icone de sacola e check representando pedido aceito">
                    <p>Pedido aceito</p>
                </div>
                <div class="status-card">
                    <img src="/ZKFood/assets/numero-2.png" alt="Pedidos em Preparo" id="icon2">
                    <img src="/ZKFood/assets/saco-de-papel 1.png"
                        alt="icone de saco de papel representando pedido em preparo">
                    <p>Pedido em preparo</p>
                </div>
                <div class="status-card">
                    <img src="/ZKFood/assets/numero-3.png" alt="Pedidos a Caminho" id="icon3">
                    <img src="/ZKFood/assets/bicicleta-de-entrega 1.png"
                        alt="icone de moto representando pedido a caminho">
                    <p>Pedido a caminho</p>
                </div>
                <!--                <div class="status-card">-->
                <!--                    <img src="/ZKFood/assets/numero-4.png" alt="Pedidos em Entrega">-->
                <!--                    <img src="/ZKFood/assets/Home.png" alt="icone de casa representando pedido entregue">-->
                <!--                    <p>Pedido entregue</p>-->
                <!--                </div>-->
            </div>
        </div>

        <div class="container-cards">
            <div id="divEnderecoStatusPedido" class="card-endereco">
                <div class="container-endereco">
                    <div class="titulo-pai">
                        <img src="/ZKFood/assets/Address.png" alt="icone representando endereço">
                        <span class="titulo-endereco">ENDEREÇO PARA <span>ENTREGA</span></span>
                    </div>

                    <div class="conteudo-pai">
                        <div class="endereco-conteudo">
                            <div class="informacao-endereco" id="informacaoEndereco"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-divisao">
                <div class="card-divisaoFilho" id="disposicaoItens"></div>
                <div class="card-valor">
                    <div class="container-valor">
                        <span class="valor-titulo">VALOR TOTAL</span>
                        <div class="itens-lista" id="holerite"></div>
                        <div class="total-pai">
                            <span><b>Total</b></span>
                            <span class="valor-amarelo" id="valorTotal">R$</span>
                        </div>
                        <div class="botao-valor" id="divBotaoCancelar">
                            <button class="cancelar-pedido" onclick="cancelarPedido()">CANCELAR PEDIDO</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="total-pai-avaliacao">
            <!-- Banner fixo com efeito parallax -->
            <div class="banner-avaliacoes"></div>
            <!-- Cards de avaliação com rolagem -->
            <div class="container-cards-avaliacoes">
                <div class="titulo-avaliacoes">
                    <h1>Avalie o seu <span class="amarelo">pedido</span></h1>
                </div>



                <!-- Card de avaliação -->
                
                <div class="container-avaliacoes"></div>


                <!-- Oie Kaick
                 Vamos ter que mudar a lógica das estrelas, pois a lógica atua se repete em todos os cards-->


            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-top">
            <img src="../../assets/Vector-ondas-footer.png" alt="Ondas para divisão de telas">
        </div>
        <div class="footer">
            <div class="footer-paginas">
                <div class="logo-footer">
                    <img src="../../assets/logo-icon.png" alt="logo da empresa ZKfood">
                </div>

                <div class="bloco-footer">
                    <a href="./home_pos_login.html">Home</a>
                    <a href="./cardapio.html">Cardápio</a>
                </div>

                <div class="bloco-footer">
                    <a href="./carrinho.html">Carrinho</a>
                    <a href="./historico-pedidos.html">Meus Pedidos</a>
                </div>

                <div class="bloco-footer">
                    <a href="./favoritos.html">Favoritos</a>
                    <a href="./perfil.html">Perfil</a>
                </div>
            </div>

            <div class="linha"></div>

            <div class="redes-sociais">
                <a href="https://www.facebook.com/share/18D1CNrSUq/?mibextid=LQQJ4d"><img
                        src="../../assets/Facebook.png" alt="Icone Facebook"></a>
                <a href="https://wa.me/5511986744335"><img src="../../assets/WhatsApp.png" alt="Icone WhatsApp"></a>
                <a href="https://www.instagram.com/restaurante.do_zeca?igsh=MWNvMzd1ZDA0em1jMA=="><img
                        src="../../assets/Instagram.png" alt="Icone Instagram"></a>
            </div>

            <div class="informacoes">
                <p><a href="https://drive.google.com/file/d/1yQBSvnm8qGFnMTT33sv2RFl_KKAw6n5r/view?usp=sharing">Termos e Condições</a></p>
                <p> | </p>
                <p><a href="https://www.gov.br/governodigital/pt-br/acessibilidade-e-usuario/vlibras">Acessibilidade</a>
                </p>
                <p> | </p>
                <p><a href="#">Suporte</a></p>
                <p> | </p>
                <p>Developed by © VisionarySolutions, 2024. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Popup de Sucesso/Erro -->
    <div id="popup" class="popup">
        <div class="popup-background">
            <div class="popup-content">
                <span class="close" onclick="closePopup()">&times;</span>
                <img id="popup-icon" src="" alt="Icon">
                <h2 id="popup-title" class="popup-title"></h2>
                <p id="popup-message" class="popup-message"></p>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    const estrelas = document.querySelectorAll('.estrela');
    let avaliacao = 0;

    estrelas.forEach(estrela => {
        estrela.addEventListener('click', () => {
            avaliacao = estrela.getAttribute('data-avaliacao');
            atualizarEstrelas(avaliacao);
        });

        estrela.addEventListener('mouseover', () => {
            atualizarEstrelas(estrela.getAttribute('data-avaliacao'));
        });

        estrela.addEventListener('mouseout', () => {
            atualizarEstrelas(avaliacao);
        });
    });

    function atualizarEstrelas(valor) {
        estrelas.forEach(estrela => {
            if (estrela.getAttribute('data-avaliacao') <= valor) {
                estrela.classList.add('ativa');
            } else {
                estrela.classList.remove('ativa');
            }
        });
    }


</script>